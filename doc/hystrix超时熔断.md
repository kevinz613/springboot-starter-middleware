# 服务治理：超时熔断

> 需求背景：<br>
> 如果说你开发过交易或者支付系统中的核心服务，可能有这样的场景：用户在电商平台下单后开始跳转到在线收银台进行支付。由于支付渠道和网络环境随时都有可能发生问题，那么如何保证支付系统的可靠性？
> <br>
> <br>
> 保证可靠性需要考虑的点有很多，但是最直接和重点的就是<em style="color: salmon">支付响应时长</em>,如果支付时间过长，那么暴增的支付请求可能就会把整个系统拖垮，最终导致所有服务瘫痪
> <br>
> <br>
> 所以我们可以使用超时熔断组件hystrix。如何使用？所有接口都加一个这样的功能组件，不太好；一般类似这样的组件可以嵌入到RPC接口或者自研的网关上，也可以在整个服务治理层的功能编排上。总之，它不会轻易暴露给你，让你硬编码到业务逻辑实现中。

# 方案设计
> 我们只想方便、简单并且不需要关心如如何创建和返回结果，我们就可以使用hystrix的框架包装到中间件中，屏蔽调用逻辑。

设计方案如下图：<br>
<img src="www.baidu.com">
- 使用自定义注解和切面技术，拦截需要倍熔断保护的方法
- 拦截到方法后，就可以通过hystrix给方法设定已经配置好的超时熔断处理。

# 技术实现
